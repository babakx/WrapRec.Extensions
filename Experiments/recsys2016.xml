<wraprec>
	<models>
		<model id="bmf" class="WrapRec.Models.MmlRecommender">
			<parameters ml-class="MyMediaLite.dll:MyMediaLite.RatingPrediction.BiasedMatrixFactorization" NumFactors="10" NumIter="10" />
		</model>
		<model id="bprmf" class="WrapRec.Models.MmlRecommender">
			<parameters ml-class="MyMediaLite.dll:MyMediaLite.ItemRecommendation.BPRMF" NumFactors="10" NumIter="50" WithReplacement="false,true" UniformUserSampling="false,true" />
		</model>
		<model id="bprfm" class="WrapRec.Extensions.dll:WrapRec.Extensions.Models.MmlBprfmRecommender">
			<parameters ml-class="WrapRec.Extensions.dll:WrapRec.Extensions.Models.BPRFM" NumFactors="10" NumIter="50" WithReplacement="false,true" UniformUserSampling="false,true" />
		</model>
		<model id="mlbprfm" class="WrapRec.Extensions.dll:WrapRec.Extensions.Models.MmlBprfmRecommender">
			<parameters ml-class="WrapRec.Extensions.dll:WrapRec.Extensions.Models.MultiLevelBPRFM" NumFactors="10" NumIter="50"
				UniformUserSampling="true" NegSampler="OnlyUnobserved,OnlyObserved,CombinedSampling"
				UnobservedSamplingMethod="Dynamic" NumObservedNeg="" NumUnobservedNeg="" />
		</model>
		<model id="mp" class="WrapRec.Models.MmlRecommender">
			<parameters ml-class="MyMediaLite.dll:MyMediaLite.ItemRecommendation.MostPopular"/>
		</model>
		<model id="uknn" class="WrapRec.Models.MmlRecommender">
			<parameters ml-class="MyMediaLite.dll:MyMediaLite.ItemRecommendation.UserKNN" K="40,80"/>
		</model>
		<model id="libfm" class="WrapRec.Models.LibFmWrapper">
			<parameters libFmPath="D:\Dropbox\Projects\WrapRec Projects\WrapRec\lib\libfm.net.exe"
				task="r" dim="1-1-10,1-1-20,1-1-30" method="sgd" iter="50,100" learn_rate="0.02" />
		</model>
	</models>
	
	<data>
		<dataReaders>
			<reader id="ml100k-ml" path="D:\Dropbox\Datasets\MovieLens\ml-100k\u.data" sliceType="other" dataType="ratings"
				class="WrapRec.Extensions.dll:WrapRec.Extensions.IO.RatingAsMultiLevelFeedbackCsvReader" hasHeader="false" header="userId,itemId,rating,timestamp:n" delimiter="\t" />
			
			<!-- user,followedPlaylist -->
			<reader id="kollekt-fol" path="D:\Dropbox\Datasets\Kollectfm\user_playlist.csv" sliceType="other" dataType="posFeedback"
				class="WrapRec.IO.CsvReader" hasHeader="true" delimiter="," />

			<reader id="kollekt-fol-train" path="D:\Dropbox\Datasets\Kollectfm\user_playlist_train75.csv" sliceType="train" dataType="posFeedback"
				class="WrapRec.IO.CsvReader" hasHeader="true" delimiter="," />

			<reader id="kollekt-fol-test" path="D:\Dropbox\Datasets\Kollectfm\user_playlist_test25.csv" sliceType="test" dataType="posFeedback"
				class="WrapRec.IO.CsvReader" hasHeader="true" delimiter="," />

			<!-- user,playlist,favoriteRatio with favorite-ratio-threshold of 0.1 -->
			<reader id="kollekt-fav-01" path="D:\Dropbox\University\RecSys 2016\dataset\userPlFavRatio\01.txt" sliceType="train" dataType="posFeedback"
				class="WrapRec.IO.CsvReader" hasHeader="true" delimiter="," header="userId,playlistId,favRatio:r" />

			<!-- user,playlist,favoriteRatio with favorite-ratio-threshold of 0.005 -->
			<reader id="kollekt-fav-005" path="D:\Dropbox\University\RecSys 2016\dataset\userPlFavRatio\005.txt" sliceType="other" dataType="posFeedback"
				class="WrapRec.IO.CsvReader" hasHeader="true" delimiter="," />

			<!-- user,playlist,listenRatio with listen-ratio-threshold of 0.1 -->
			<reader id="kollekt-lis-01" path="D:\Dropbox\University\RecSys 2016\dataset\userPlSecondsRatio\userPlSecondsRatio01.txt" sliceType="train" dataType="posFeedback"
				class="WrapRec.IO.CsvReader" hasHeader="true" delimiter="," header="userId,playlistId,listenRatio:r" />

			<reader id="kollekt-pl-tag" path="D:\Dropbox\University\RecSys 2016\dataset\pltagtop100Joined.txt" sliceType="other" dataType="itemAttributes"
				class="WrapRec.IO.CsvReader" hasHeader="false" delimiter="," header="playlistId:d,tagId:d" />
			
			<!-- user likes on facebook. The third column in the number of likes per category which is ingnored with this reader -->
			<reader id="kollekt-user-fb-likes" path="D:\Dropbox\University\RecSys 2016\dataset\userFbCatLikesCountJoined.txt" sliceType="other" dataType="userAttributes"
				class="WrapRec.IO.CsvReader" hasHeader="false" delimiter="," header="userId:d,catId:d,numLikes:n" />

			<!-- reading with multi-level behavior -->
			<reader id="kollekt-fol-train-ml" path="D:\Dropbox\Datasets\Kollectfm\user_playlist_train75.csv" sliceType="train" dataType="posFeedback"
				class="WrapRec.Extensions.dll:WrapRec.Extensions.IO.MultiLevelFeedbackCsvReader" hasHeader="true" delimiter="," level="3" />

			<reader id="kollekt-fol-test-ml" path="D:\Dropbox\Datasets\Kollectfm\user_playlist_test25.csv" sliceType="test" dataType="posFeedback"
				class="WrapRec.Extensions.dll:WrapRec.Extensions.IO.MultiLevelFeedbackCsvReader" hasHeader="true" delimiter="," level="3" />

			<reader id="kollekt-fav-01-ml" path="D:\Dropbox\University\RecSys 2016\dataset\userPlFavRatio\01.txt" sliceType="train" dataType="posFeedback"
				class="WrapRec.Extensions.dll:WrapRec.Extensions.IO.MultiLevelFeedbackCsvReader" hasHeader="true" delimiter="," header="userId,playlistId,favRatio:n" level="1" />

			<reader id="kollekt-lis-01-ml" path="D:\Dropbox\University\RecSys 2016\dataset\userPlSecondsRatio\userPlSecondsRatio01.txt" sliceType="train" dataType="posFeedback"
				class="WrapRec.Extensions.dll:WrapRec.Extensions.IO.MultiLevelFeedbackCsvReader" hasHeader="true" delimiter="," header="userId,playlistId,listenRatio:n" level="1" />
		</dataReaders>
		
		<dataContainers>
			<dataContainer id="ml100k-ml" dataReaders="ml100k-ml" />

			<dataContainer id="kollekt-fav" dataReaders="kollekt-fav-01" />
			<dataContainer id="kollekt-fol" dataReaders="kollekt-fol" />
			<dataContainer id="kollekt-lis" dataReaders="kollekt-lis-01" />
			
			<dataContainer id="kollekt-fav-s" dataReaders="kollekt-fav-01,kollekt-fol-test" />
			<dataContainer id="kollekt-lis-s" dataReaders="kollekt-lis-01,kollekt-fol-test" />
			<dataContainer id="kollekt-fol-s" dataReaders="kollekt-fol-train,kollekt-fol-test" />

			<dataContainer id="kollekt-all" dataReaders="kollekt-fol-train,kollekt-fol-test,kollekt-fav-01,kollekt-lis-01" allowDuplicates="false" />

			<dataContainer id="kollekt-fol-s-attr" dataReaders="kollekt-fol-train,kollekt-fol-test,kollekt-user-fb-likes" />
			<dataContainer id="kollekt-fav-s-attr" dataReaders="kollekt-fav-01,kollekt-fol-test,kollekt-user-fb-likes" />
			<dataContainer id="kollekt-lis-s-attr" dataReaders="kollekt-lis-01,kollekt-fol-test,kollekt-user-fb-likes" />

			<dataContainer id="kollekt-all-ml" dataReaders="kollekt-fol-train-ml,kollekt-fol-test-ml,kollekt-fav-01-ml,kollekt-lis-01-ml" allowDuplicates="true" />
		</dataContainers>
	</data>

	<splits>
		<split id="ml100k-ml" type="dynamic" dataContainer="ml100k-ml" trainRatios="0.75" />

		<split id="kollekt-fav" type="dynamic" dataContainer="kollekt-fav" trainRatios="0.75" />
		<split id="kollekt-fol" type="dynamic" dataContainer="kollekt-fol" trainRatios="0.75" />
		<split id="kollekt-lis" type="dynamic" dataContainer="kollekt-lis" trainRatios="0.75" />

		<split id="kollekt-fav-s" type="static" dataContainer="kollekt-fav-s" />
		<split id="kollekt-lis-s" type="static" dataContainer="kollekt-lis-s" />
		<split id="kollekt-fol-s" type="static" dataContainer="kollekt-fol-s" />

		<split id="kollekt-all" type="static" dataContainer="kollekt-all" />
		<split id="kollekt-all-fm" type="static" dataContainer="kollekt-all" feedbackAttributes="favRatio,listenRatio" />

		<split id="kollekt-fol-s-attr" type="static" dataContainer="kollekt-fol-s-attr" />
		<split id="kollekt-fav-s-attr" type="static" dataContainer="kollekt-fav-s-attr" />
		<split id="kollekt-lis-s-attr" type="static" dataContainer="kollekt-lis-s-attr" />

		<split id="kollekt-all-ml" type="static" dataContainer="kollekt-all-ml"/>
	</splits>
	
	<evalContexts>
		<evalContext id="rating-default">
			<evaluator class="WrapRec.Evaluation.RMSE" />
			<evaluator class="WrapRec.Evaluation.MAE" />
		</evalContext>
		<evalContext id="rating-ranking">
			<evaluator class="WrapRec.Evaluation.RatingBasedRankingEvaluatorsOpr" candidateItemsMode="training" numCandidates="100,1000" cutOffs="5,10,20" relevanceThreshold="4"  />
		</evalContext>
		<evalContext id="ranking">
			<evaluator class="WrapRec.Evaluation.RankingEvaluators" candidateItemsMode="training" numCandidates="100,1000" cutOffs="5,10,20"  />
			<evaluator class="WrapRec.Evaluation.RankingEvaluatorsOpr" candidateItemsMode="training" numCandidates="100,1000" cutOffs="5,10,20"  />
		</evalContext>
		<evalContext id="ranking-attr">
			<evaluator class="WrapRec.Evaluation.RankingEvaluators" candidateItemsMode="training" numCandidates="100,1000" cutOffs="5,10,20"  />
			<evaluator class="WrapRec.Evaluation.RankingEvaluatorsOpr" candidateItemsMode="training" numCandidates="100,1000" cutOffs="5,10,20"  />
			<evaluator class="WrapRec.Evaluation.RankingEvaluatorsAttributeAware" candidateItemsMode="training" numCandidates="100,1000" cutOffs="5,10,20"  />
		</evalContext>
	</evalContexts>
	
	<experiments run="join" resultsFolder="D:\Dropbox\Datasets\Wraprec Results" subFolder="false" separator="\t" verbosity="info">
		<experiment id="kollekt1" models="libfm" splits="kollekt-fav" evalContext="ranking" />
		<experiment id="kollekt2" models="libfm" splits="kollekt-fol" evalContext="ranking" />
		<experiment id="kollekt3" models="mp,bprmf,uknn,libfm" splits="kollekt-lis" evalContext="ranking" />
		<experiment id="kollekt-all-1" models="mp,bprmf,uknn,libfm" splits="kollekt-all" evalContext="ranking" />
		<experiment id="kollekt-all" models="bprfm" splits="kollekt-all" evalContext="ranking" />
		<experiment id="kollekt4" models="mp,bprmf,libfm,uknn" splits="kollekt-fav-s,kollekt-lis-s,kollekt-fol-s" evalContext="ranking" />
		<experiment id="kollekt5" models="mp,bprmf,uknn" splits="kollekt-all-fm" evalContext="ranking" />
		<experiment id="kollekt6" models="libfm" splits="kollekt-all-fm" evalContext="ranking" />
		<experiment id="kollekt8" models="bprfm" splits="kollekt-fol-s" evalContext="ranking" />
		<experiment id="kollekt9" models="bprmf" splits="kollekt-fol-s" evalContext="ranking" />
		<experiment id="kollekt11" models="bprfm" splits="kollekt-fol-s-attr,kollekt-fav-s-attr,kollekt-lis-s-attr" evalContext="ranking-attr" />
		<experiment id="kollekt15" models="mlbprfm" splits="kollekt-all-ml" evalContext="ranking" />
		<experiment id="kollekt16" models="mlbprfm" splits="kollekt-all-ml" evalContext="ranking" />
		<experiment id="kollekt17" models="bprmf" splits="kollekt-all-ml" evalContext="ranking" />
		<experiment id="kollekt18" models="bprfm" splits="kollekt-all-ml" evalContext="ranking" />
		<experiment id="kollekt19" models="mlbprfm" splits="kollekt-all-ml" evalContext="ranking" />

		<experiment id="ml100k1" models="bmf,mlbprfm" splits="ml100k-ml" evalContext="rating-ranking" />
		<experiment id="ml100k5" models="mlbprfm" splits="ml100k-ml" evalContext="rating-ranking" />

		<experiment id="join" type="other" class="WrapRec.Utils.JoinResults" sourceFiles="kollekt.joint18.csv,kollekt16.csv" outputFile="kollekt.joint19.csv" />
		<experiment id="join2" type="other" class="WrapRec.Utils.JoinResults" sourceFiles="ml100k2.joint.csv,ml100k1.csv" outputFile="ml100k.joint3.csv" />
		<experiment id="split" type="other" class="WrapRec.Utils.FileSplitter" sourceReader="kollekt-fol" part1Reader="kollekt-fol-train" part2Reader="kollekt-fol-test" part1Ratio="0.75" />
	</experiments>
</wraprec>